# databricks.yml (VERSÃO FINAL PARA FREE TRIAL COM DLT, SERVERLESS E BUNDLES)
bundle:
  name: databricks_hotel_etl

workspace:
  host: https://dbc-03ce1db1-207c.cloud.databricks.com

resources:
  pipelines:
    dlt_hotel_pipeline:
      name: "DLT - Pipeline de ETL da Hotelaria"
      target: "production.raw"

      # MUDANÇA 1: Adicionamos a linha 'serverless: true' para cumprir a exigência do workspace.
      serverless: true

      libraries:
        - notebook:
            # MUDANÇA 2: Removemos o '/Workspace' do início do caminho, como sugerido pelo aviso.
            path: "${workspace.root_path}/src/02_transient_to_raw/dlt_raw_pipeline.py"
      
      development: true
      continuous: false

targets:
  dev:
    mode: development
    workspace:
      root_path: /Users/${workspace.current_user.userName}/.bundle/${bundle.name}/dev